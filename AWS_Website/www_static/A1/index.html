
<html>
<head>
	<title>Slite Pitch Deck</title>

	<!-- Video Chat files -->
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
		<link rel="stylesheet" href="../css/videochat/videochat-style.css">


	    <!-- slider JS files -->

    <script src="../js/jquery-2.1.3.min.js"></script>
    <script src="../js/jquery-ui.min.js"></script>
    <script class="rs-file" src="../js/jquery.royalslider.min.js"></script>
    <script src="../js/jquery.infinitescroll.js"></script>
    <script src="/socket.io/socket.io.js"></script>

    <!-- Lev: This script controls the laser dot -->
    <script defer src="../js/LASER_RECEIVER.js"></script>

    <!-- this is for resizing the presentation when it appears in the iframe in the remote-->
    <!--<script type="text/javascript" defer src="js/squeezeFrame.js"></script>
    <script type="text/javascript">
      myContainer="index.html";
      myMax=0.4;
      myRedraw="both";
    </script>-->


    <link rel="stylesheet" href="../css/jquery-ui.min.css">
    <link class="rs-file" href="../css/royalslider.css" rel="stylesheet">

	<link rel="stylesheet" type="text/css" href="../css/index1.css">

	<script>

        var socket = io.connect(document.location.hostname + ':1337');

    socket.on('ccBroadcast', function (data) {
    		//alert("JD: ccBroadcast text="+data.hello);
    		$('#closedCaptioningPanel').hide();
    		$('#closedCaptioningPanel').html( data.hello );
    		$('#closedCaptioningPanel').show(400).delay(2000).fadeOut(400);
    });

    socket.on('news', function (data) {

	if ( (document.location.pathname == "/"+ data.slideID) || (document.location.pathname == "/"+ data.slideID + "/") ) {
		var button = data.hello-1;

		console.log(button);

		var slider = $(".royalSlider").data('royalSlider');

		slider.goTo(data.slide);

		switch(button)
		{
			case -102: {
				slider.goTo(0);
				break;
			}
			case -1: {
				slider.toggleVideo();
				break;
			}
			case 100: {
				slider.next();
				clearCanvas();
				break;
			}
			case 101: {
				slider.prev();
				clearCanvas();
				break;
			}
			default: {
				slider.stopVideo();
				slider.goTo(button);
				slider.playVideo();
			}
		}

		socket.emit('my other event', { my: 'data' });
	}
    });
	
	function isMobile(){
		if ( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
			return true;
		}else{
			return false;
		}
	}


	function showHideComments(){
		$("#comments").slideToggle();
		$("#comments").css('overflow','scroll');
		var label = $("#chatOpenCloseLabel");
		if(label.html() == ""){
			$("#chatOpenCloseLabel").html("Close");
		}else{
			$("#chatOpenCloseLabel").html("");
		}
		showHideMenu(true);
	}
	
	function showHidePersonalNotes(){
		$("#personalNotes").slideToggle();
		var label = $("#personalNotesOpenCloseLabel");
		if(label.html() == ""){
			$("#personalNotesOpenCloseLabel").html("Close");
		}else{
			$("#personalNotesOpenCloseLabel").html("");
		}
		showHideMenu(true);
	}
	
	var isVideoOn = false;
	function showHideVideoChat(){
		if(!isVideoOn)
		{
			if ( $( "#join-button" ).length ) {
				$( "#join-button" ).trigger( "click" );
			}else{
				$( "#setup-new-room" ).trigger( "click" );
			}
			isVideoOn = true;			
			
			//reduce main window
			//$(".rsContainer").animate({"width":"80%"},300);
			$(".rsContainer").css("float","right");
			$(".rsContainer").css({"width":"80%", "clear":"both"});
			hideClickAllow();
		}else{
			//put main window back to full size	
			//$(".rsContainer").animate({"width":"100%", "clear":"both"},300);
			$(".rsContainer").css({"width":"100%", "clear":"both"});
			
			// remove the video window on closing the panel
			var videosContainer = document.getElementById('videos-container');
			if(videosContainer.firstChild) videosContainer.removeChild(videosContainer.firstChild);
			
			isVideoOn = false;
		}		
		
		var label = $("#videoChatOpenCloseLabel");
		if(label.html() == ""){
			$("#videoChatOpenCloseLabel").html("Close");
		}else{
			$("#videoChatOpenCloseLabel").html("");
		}
		
		$("#videochat").slideToggle();
		/*
		$("#videochat").css('overflow-x','hidden');
		$("#videochat").css('overflow-y','scroll');
		*/
		
		showHideMenu(true);
	}
	
	var isMenuOn = false;
	function showHideMenu(fromItemClick){
		if(!isMenuOn && !fromItemClick){
			$('.menuSubmenu').slideDown( "slow");
			isMenuOn = true;
		}else{
			if(fromItemClick){
				$('.menuSubmenu').slideUp("fast");
			}else{
				$('.menuSubmenu').slideUp("medium");
			}
			isMenuOn = false;
		}
	}
	
	
	var isHelpOverlayOn = false;
	function showHideHelpOverlay(){
		if(!isHelpOverlayOn){
			$('#helpOverlay').fadeIn( 400 );;
			isHelpOverlayOn = true;
		}else{
			$('#helpOverlay').fadeOut( 400 );
			isHelpOverlayOn = false;
		}
		showHideMenu(true);
	}
	
	function deleteAllCookies() {
		var cookies = document.cookie.split(";");

		for (var i = 0; i < cookies.length; i++) {
			var cookie = cookies[i];
			var eqPos = cookie.indexOf("=");
			var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;
			document.cookie = name + "=;expires=Thu, 01 Jan 1970 00:00:00 GMT";
		}
	}
	
	function getCookie(name) {
		function escape(s) { return s.replace(/([.*+?\^${}()|\[\]\/\\])/g, '\\$1'); };
		var match = document.cookie.match(RegExp('(?:^|;\\s*)' + escape(name) + '=([^;]*)'));
		return match ? match[1] : null;
	}
	
	function needToShowExplanators(){			
		var helpShownCookie = getCookie("isHelpAlreadyShown");
		return (helpShownCookie != "true");
	}
	
	var explanatorsTurnedOff = true;
	function showHideExplanators(){
		if( isMobile() ){
			$('.startTemporaryPopup').fadeOut( 0 );
			explanatorsTurnedOff = true;
		}
		if(explanatorsTurnedOff){
			$('.startTemporaryPopup').fadeOut( 400 );
			explanatorsTurnedOff = false;
		}else{		
			document.cookie="isHelpAlreadyShown=true;";
			$('.startTemporaryPopup').fadeIn( 400 );
			explanatorsTurnedOff = true;
		}
	}
	
	function hideClickAllow(delay){
		$('#clickallow').delay( 3000 ).fadeOut( 600 );
	}
	
	function showRemote(){
		var pathName=document.location.pathname;
		if(pathName){
			pathName = pathName.replace('/','');
		}
		var newUrl = "http://"+document.location.hostname+"/remote?presentation="+pathName;
		window.open(newUrl, "popupWindow", "width=1050,height=700"); //,scrollbars=no
	}

	
	</script>


    <!-- syntax highlighter -->
    <script src="../js/highlight.pack.js"></script>
    <script> hljs.initHighlightingOnLoad();</script>




    <!-- preview-related stylesheets -->
    <link href="../css/reset.css" rel="stylesheet">
    <link href="../css/github.css" rel="stylesheet">

    <!-- slider stylesheets -->


    <link class="rs-file" href="../css/rs-default.css" rel="stylesheet">


	<style>


		body{
			/* background-color:rgba(0,0,255,0.3); */
		}
		
		
		/* MENU */
		#primary_nav_wrap
		{
			position: fixed;
			right: 20px;
			top: 0px;
			z-index: 2;
		}

		#primary_nav_wrap ul
		{
			list-style:none;
			position:relative;
			float:right;
			margin:0;
			padding:0
		}

		#primary_nav_wrap ul a
		{

			display:block;
			color:#333;
			text-decoration:none;
		}

		#primary_nav_wrap ul li
		{
			position:relative;
			float:left;
			margin:0;
			padding:0;
			border: 0px;
		}

		#primary_nav_wrap ul li.current-menu-item
		{
			background:#ddd
		}

		#primary_nav_wrap ul ul
		{
			display:none;
			position: fixed;
			top: 30px;
			right: 0px;
			background:#fff;
			padding:0
		}

		#primary_nav_wrap ul ul li
		{
			float:none;
			width:200px
		}

		#primary_nav_wrap ul ul a
		{
			line-height:120%;
			padding:10px 15px;
			border: 1px;
			border-color: rgb(236, 232, 232);
			border-style: solid;
		}

		#primary_nav_wrap ul ul ul
		{
			top:0;
			left:100%
		}
		/* END MENU */


		
		#video-gallery {
      position: absolute;
      z-index: 0;
		  width: 100%;
		}

		.videoGallery .rsTmb {
		  padding: 20px;
		}
		.videoGallery .rsThumbs .rsThumb {
		  width: 220px;
		  height: 80px;
		  border-bottom: 1px solid #2E2E2E;
		}
		.videoGallery .rsThumbs {
		  width: 220px;
		  padding: 0;
		}
		.videoGallery .rsThumb:hover {
		  background: #000;
		}
		.videoGallery .rsThumb.rsNavSelected {
		  background-color: #02874A;
		  border-bottom:-color #02874A;
		}

		.sampleBlock {
		  left: 3%;
		  top: 1%;
		  width: 100%;
		  max-width: 400px;
		}


		@media screen and (min-width: 0px) and (max-width: 600px) {
			  .videoGallery .rsTmb {
				padding: 6px 8px;
			  }
			  .videoGallery .rsTmb h5 {
				font-size: 12px;
				line-height: 17px;
			  }
			  .videoGallery .rsThumbs.rsThumbsVer {
				width: 100px;
				padding: 0;
			  }
			  .videoGallery .rsThumbs .rsThumb {
				width: 100px;
				height: 47px;
			  }
			  .videoGallery .rsTmb span {
				display: none;
			  }
			  .videoGallery .rsOverflow,
			  .royalSlider.videoGallery {
				height: 300px !important;
			  }
			  .sampleBlock {
				font-size: 14px;
			  }
			.royalSlider .rsSlide {
				opacity: 0.45;
				-webkit-transition: all 0.3s ease-out;
				-moz-transition: all 0.3s ease-out;
				transition: all 0.3s ease-out;

				-webkit-transform: scale(0.9);
				-moz-transform: scale(0.9);
				-ms-transform: scale(0.9);
				-o-transform: scale(0.9);
				transform: scale(0.9);
			}
			.royalSlider .rsActiveSlide {
				opacity: 1;
				-webkit-transform: scale(1);
				-moz-transform: scale(1);
				-ms-transform: scale(1);
				-o-transform: scale(1);
				transform: scale(1);
			}
		}

		#sliteWatermak{
			position: fixed;
			right: 20px;
			top: 0px;
			opacity: 0.4;
			filter: alpha(opacity=40);
			z-index: 2;
			cursor: pointer;
		}

	    #redDot {
	      /* the width is set to a small value so when the dot moves it will
	         not create a horizontal scroll bar. */
	      width: 2%;
	      overflow: hidden;
        visibility: hidden;
	      position: absolute;
	      left:0px;
	      top:0px;
	      z-index: 2;
	    }

	    #drawCanvas {
	      position: absolute;
	      border: none;
	      z-index: 1;
	      pointer-events: none;
	    }

		#videochat{
	    	position: absolute;
	    	left: 0px;
	    	width: 20%;
	    	height: 100vh;
	    	display: none;
			margin-left: 10px;
	    	background-color: #444444;
  			background-image: -webkit-linear-gradient(top, #444444, #999999); /* Chrome 10-25, iOS 5+, Safari 5.1+ */
  			background-image: linear-gradient(to bottom, #444444, #999999); /* Chrome 26, Firefox 16+, IE 10+, Opera */
			opacity: 0.93;
			font-size: 40px;
			font-weight: bold;
			color: white;
			line-height: normal;
			overflow-x: hidden;
			overflow-y: scroll;
		}

		#videochatpanel{
	    	position: fixed;
	    	left: 0px;
	    	width: 10px;
	    	height: 100vh;
	    	background-color: #444444;
  			background-image: -webkit-linear-gradient(top, #444444, #999999); /* Chrome 10-25, iOS 5+, Safari 5.1+ */
  			background-image: linear-gradient(to bottom, #444444, #999999); /* Chrome 26, Firefox 16+, IE 10+, Opera */
		}

	    #comments{
	    	position: absolute;
	    	bottom: 0px;
			left: 0px;
	    	width: 50%;
	    	height: 500px;
	    	display: none;
	    }
		
		.panelTitle{
			font-size:20px;
			font-weight: bold;
			color: #8E8D8D;
		}

	    #personalNotes{
	    	position: absolute;
	    	bottom: 0px;
			right: 0px;
	    	display: none;			
			width: 50%;
			border-style: solid;
			border-width: 1px;
			border-color: lightblue;
			right: 0px;
	    	height: 500px;			
			
			background-image:  -webkit-linear-gradient(left, rgba(255,85,91, .2), rgba(255,85,91, .2)), -webkit-linear-gradient(left, rgba(255,85,91, .8), rgba(255,85,91, .8)), -webkit-linear-gradient(top, white 0px, white 69px, rgba(255,255,255,0) 70px), -webkit-repeating-linear-gradient(white 0px, white 18px, #A6FFED 19px, white 20px);
			background-image:  -moz-linear-gradient(left, rgba(255,85,91, .2), rgba(255,85,91, .2)), -moz-linear-gradient(left, rgba(255,85,91, .8), rgba(255,85,91, .8)), -moz-linear-gradient(top, white 0px, white 69px, rgba(255,255,255,0) 70px), -moz-repeating-linear-gradient(white 0px, white 18px, #A6FFED 19px, white 20px);
			background-image:  -ms-linear-gradient(left, rgba(255,85,91, .2), rgba(255,85,91, .2)), -ms-linear-gradient(left, rgba(255,85,91, .8), rgba(255,85,91, .8)), -ms-linear-gradient(top, white 0px, white 69px, rgba(255,255,255,0) 70px), -ms-repeating-linear-gradient(white 0px, white 18px, #A6FFED 19px, white 20px);
			background-image:  -o-linear-gradient(left, rgba(255,85,91, .2), rgba(255,85,91, .2)), -o-linear-gradient(left, rgba(255,85,91, .8), rgba(255,85,91, .8)), -o-linear-gradient(top, white 0px, white 69px, rgba(255,255,255,0) 70px), -o-repeating-linear-gradient(white 0px, white 18px, #A6FFED 19px, white 20px);
			background-image:  linear-gradient(left, rgba(255,85,91, .2), rgba(255,85,91, .2)), linear-gradient(left, rgba(255,85,91, .8), rgba(255,85,91, .8)), linear-gradient(top, white 0px, white 69px, rgba(255,255,255,0) 70px), repeating-linear-gradient(white 0px, white 18px, #A6FFED 19px, white 20px);
			background-size: 1px, 1px, auto, auto 20px;
			background-repeat: repeat-y, repeat-y, no-repeat, repeat;
			background-position: 90% 0px, 10% 0px, 0px 0px, 0px 0px;
		}

		.paper {
			margin: 0;
			display: block;
			font: 10pt Arial, sans-serif;    
			line-height: 20px;
			padding-top: 50px;
			padding-left: 10.5%;
			padding-right: 10.5%;
			text-align: justify;
		}
		.paper:first-line {
			font: 20pt Arial, sans-serif;
			line-height: 33px;
			vertical-align: baseline;
		}
		.paper:after {    
			content: '';
			display: block;
			width: 20px;
			height: 20px;
			border-radius: 10px;
			position: absolute;
			background: rgba(255,255,255,1);
			top: 40px;
			left: 2%;
			z-index: 10;
			-webkit-box-shadow: 
				inset 2px 2px 5px rgba(125,125,125,1),  
				2px 50.1em 5px rgba(255,255,255,1), 0px 50em rgba(125,125,125,.75),  
				2px 90.1em 5px rgba(255,255,255,1), 0px 90em rgba(125,125,125,.5),
				2px 130.1em 5px rgba(255,255,255,1), 0px 130em rgba(125,125,125,.25);
			-moz-box-shadow: 
				inset 2px 2px 5px rgba(125,125,125,1),  
				2px 50.1em 5px rgba(255,255,255,1), 0px 50em rgba(125,125,125,.75),  
				2px 90.1em 5px rgba(255,255,255,1), 0px 90em rgba(125,125,125,.5),
				2px 130.1em 5px rgba(255,255,255,1), 0px 130em rgba(125,125,125,.25);
			box-shadow: 
				inset 2px 2px 5px rgba(125,125,125,1),  
				2px 50.1em 5px rgba(255,255,255,1), 0px 50em rgba(125,125,125,.75),  
				2px 90.1em 5px rgba(255,255,255,1), 0px 90em rgba(125,125,125,.5),
				2px 130.1em 5px rgba(255,255,255,1), 0px 130em rgba(125,125,125,.25);
		}

		.paper:focus {
			outline: none;
		}

	    #chatPanel{
	    	position: fixed;
	    	bottom: 0px;
	    	width: 50%;
	    	height: 15px;
	    	 background-color: #444444;
  			background-image: -webkit-linear-gradient(top, #444444, #999999); /* Chrome 10-25, iOS 5+, Safari 5.1+ */
  			background-image: linear-gradient(to bottom, #444444, #999999); /* Chrome 26, Firefox 16+, IE 10+, Opera */
	    }
		
		

	    #personalNotesPanel{
			position: absolute;
			bottom: 0px;
			right: 0px;
	    	bottom: 0px;
	    	width: 50%;
	    	height: 15px;
	    	background-color: #444444;
  			background-image: -webkit-linear-gradient(top, #444444, #999999); /* Chrome 10-25, iOS 5+, Safari 5.1+ */
  			background-image: linear-gradient(to bottom, #444444, #999999); /* Chrome 26, Firefox 16+, IE 10+, Opera */
	    }
		
		#helpOverlay {
		  opacity:    0.9; 
		  background: black; 
		  width:      100%;
		  height:     100%; 
		  z-index:    10;
		  top:        0; 
		  left:       0; 
		  position:   fixed; 
		  color: black;
		  display: none;
		}

	    #HCB_comment_box{
	    	height: 100%;
	    	border-width: 1px;
	    	border-style: dotted;
	    }

	    iframe * img{
	    	width: 100%;
	    }


		/* VideoChat  */

		audio, video {
                -moz-transition: all 1s ease;
                -ms-transition: all 1s ease;

                -o-transition: all 1s ease;
                -webkit-transition: all 1s ease;
                transition: all 1s ease;
                vertical-align: top;
            }

            input {
                border: 1px solid #d9d9d9;
                border-radius: 1px;
                font-size: 2em;
                margin: .2em;
                width: 30%;
            }

            .setup {
                border-bottom-left-radius: 0;
                border-top-left-radius: 0;
                font-size: 102%;
                height: 47px;
                margin-left: -9px;
                margin-top: 8px;
                position: absolute;
            }

            p { padding: 1em; }

            li {
                border-bottom: 1px solid rgb(189, 189, 189);
                border-left: 1px solid rgb(189, 189, 189);
                padding: .5em;
            }

			#chatTop{
				display: none;
			}

			#rooms-list{
				display: none;
			}

			.experiment{
				border-style: none;
			}

			#closedCaptioningPanel{
				position: fixed;
				bottom: 5%;
				background-color: black;
				color: white;
				width: 100%;
				text-align: center;
				font-size: 40px;
				line-height: 40px;
			}
			
			.closevideo{
				float:right;
				margin-top:5px;
				margin-right:3px;
				cursor:pointer;
				color: #fff;
				border: 1px solid #AEAEAE;
				border-radius: 30px;
				background: #605F61;
				font-size: 31px;
				display: inline-block;
				line-height: 0px;
				padding: 11px 3px; 
				text-decoration: none;	
				opacity: 0.6
			}

			.closevideo:before {
				content: "×";
			}
			
			.startTemporaryPopup{
				display: none;
				position: fixed;
				font-size: 26px;
				color: blue;
				background-color: rgb(232, 223, 223);
				border: 2px solid;
				border-radius: 25px;
				padding: 10px;
			}
			
			#closeExplanator{
				position: absolute;
				left: 50%;
				right: 50%;
				width: 200px;
				line-height: 40px;
				text-align: center;
				cursor: pointer;
			}
			
			#videoChatExplanator{
				top: 300px;
				left: 20px;
			}
			
			#wallChatExplanator{
				transform: rotate(45deg);
				bottom: 200px;
				left: 400px;
			}
			
			#menuExplanator{
				transform: rotate(-60deg);
				right: 5px;
				top: 180px;
			}
			
			#urlExplanator{
				left: 5px;
				top: 10px;
			}

	</style>


	<!-- VideoChat Javascript -->
	<script>
            document.createElement('article');
            document.createElement('footer');
        </script>

        <!-- scripts used for video-conferencing -->
        <script src="../js/videochat/firebase.js"> </script>
        <script src="../js/videochat/RTCPeerConnection-v1.5.js"> </script>
        <script src="../js/videochat/conference.js"> </script>

        <!-- script used to stylize video element -->
        <script src="../js/videochat/getMediaElement.js"> </script>

		<script>
/*
			$(window).load(function() {
				window.setTimeout(function(){
					if ( $( "#join-button" ).length ) {
						$( "#join-button" ).trigger( "click" );
					}else{
						$( "#setup-new-room" ).trigger( "click" );
					}

					}, 1500);
			});
			*/
		</script>
	<!-- end VideoChat Javascript -->


</head>

<body onresize="resizeCanvas()">

    <canvas id="drawCanvas" ></canvas>

	
	<div id="sliteWatermak" style="height:40px; line-height:40px;">
        <span style="vertical-align:top;">Powered by SLITE.US</span>
        <span style="font-size:2em; vertical-align:top;">☰</span>
    </div>
	
	
    <div id="redDot"><img src="img/redDot.png" alt="Laser Pointer"></div>

  	<div id="video-gallery" class="royalSlider videoGallery rsDefault"></div>

	<div id="personalNotes">
		<div class="closevideo" id="closePersonalNotes"></div>
		<center><div class='panelTitle'>Personal Notes (only you can see them)</div></center>
		<p class="paper" contenteditable>
		</p>
	</div>
	
	<div id="comments">
			<center><div class='panelTitle' style='position: absolute; left: 25%;'>Chat with others about this presentation</div><center>
			<div class="closevideo" id="closeChat" style='margin-right: 20px;'></div>
			<!-- Begin Comments JavaScript Code --><script type="text/javascript" async>function ajaxpath_5434a641072d9(url){return window.location.href == '' ? url : url.replace('&s=','&s=' + escape(window.location.href));}(function(){document.write('<div id="fcs_div_5434a641072d9"><a title="free comment script" href="http://www.freecommentscript.com">&nbsp;&nbsp;<b>Free HTML User Comments</b>...</a></div>');fcs_5434a641072d9=document.createElement('script');fcs_5434a641072d9.type="text/javascript";fcs_5434a641072d9.src=ajaxpath_5434a641072d9("http://www.freecommentscript.com/GetComments2.php?p=5434a641072d9&s=&Size=10#!5434a641072d9");setTimeout("document.getElementById('fcs_div_5434a641072d9').appendChild(fcs_5434a641072d9)",1);})();</script><noscript><div><a href="http://www.freecommentscript.com" title="free html user comment box">Free Comment Script</a></div></noscript><!-- End Comments JavaScript Code -->
	</div>
	
	<div class='helpOverlay' id='helpOverlay'>
		<div class="closevideo" id="closeHelpOverlay" style='margin-right:30px;'></div>
		<iframe src="help.html" style='width:100%;height:100%'></iframe>
	</div>

	<div id="closedCaptioningPanel"></div>

	<div id="chatPanel"></div>
	<div id="personalNotesPanel"></div>	

	<div id="videochatpanel"></div>
	<div id="videochat" style="overflow-x: hidden; overflow-y: scroll;">

		<h1>Video Chat <div class="closevideo" id="closevideo"></div></h1>
		<div id="clickallow" style='font-size:24px;padding-top:0px;'>click "Allow" above<b sty;e='font-size:38'> &#8599;</b></div>
	

		<article id="videochatMainContainer">

			<!-- just copy this <section> and next script -->
			<section class="experiment">
				<section id="chatTop">
					<span>
						Private ?? <a href="/video-conferencing/" target="_blank" title="Open this link in new tab. Then your conference room will be private!"><code><strong id="unique-token">#123456789</strong></code></a>
					</span>

					<input type="text" id="conference-name">
					<button id="setup-new-room" class="setup">Setup New Conference</button>
				</section>

				<!-- list of all available conferencing rooms -->
				<table style="width: 100%;" id="rooms-list"></table>

				<!-- local/remote videos container -->
				<div id="videos-container"></div>
			</section>

			<script>
				// Muaz Khan     - https://github.com/muaz-khan
				// MIT License   - https://www.webrtc-experiment.com/licence/
				// Documentation - https://github.com/muaz-khan/WebRTC-Experiment/tree/master/video-conferencing

				var _channelHash = "9WDXH6OH-6K73NMI";
				var config = {
					openSocket: function(config) {
						var channel = config.channel || location.href.replace( /\/|:|#|%|\.|\[|\]/g , '');
						channel += _channelHash;
						var socket = new Firebase('https://webrtc.firebaseIO.com/' + channel);
						socket.channel = channel;
						socket.on("child_added", function(data) {
							config.onmessage && config.onmessage(data.val());
						});
						socket.send = function(data) {
							this.push(data);
						};
						config.onopen && setTimeout(config.onopen, 1);
						socket.onDisconnect().remove();
						return socket;
					},
					onRemoteStream: function(media) {
						var mediaElement = getMediaElement(media.video, {
							width: (videosContainer.clientWidth / 2) - 50,
							buttons: ['mute-audio', 'mute-video', 'full-screen', 'volume-slider']
						});
						mediaElement.id = media.streamid;
						videosContainer.insertBefore(mediaElement, videosContainer.firstChild);
					},
					onRemoteStreamEnded: function(stream, video) {
						if (video.parentNode && video.parentNode.parentNode && video.parentNode.parentNode.parentNode) {
							video.parentNode.parentNode.parentNode.removeChild(video.parentNode.parentNode);
						}
					},
					onRoomFound: function(room) {
						var alreadyExist = document.querySelector('button[data-broadcaster="' + room.broadcaster + '"]');
						if (alreadyExist) {
							return;
						}

						if (typeof roomsList === 'undefined') roomsList = document.body;

						var tr = document.createElement('tr');
						tr.innerHTML = '<td><strong>' + room.roomName + '</strong> shared a conferencing room with you!</td>' +
							'<td><button id="join-button" class="join">Join</button></td>';
						roomsList.insertBefore(tr, roomsList.firstChild);

						var joinRoomButton = tr.querySelector('.join');
						joinRoomButton.setAttribute('data-broadcaster', room.broadcaster);
						joinRoomButton.setAttribute('data-roomToken', room.roomToken);
						joinRoomButton.onclick = function() {
							this.disabled = true;

							var broadcaster = this.getAttribute('data-broadcaster');
							var roomToken = this.getAttribute('data-roomToken');
							captureUserMedia(function() {
								conferenceUI.joinRoom({
									roomToken: roomToken,
									joinUser: broadcaster
								});
							}, function() {
								joinRoomButton.disabled = false;
							});
						};
					},
					onRoomClosed: function(room) {
						var joinButton = document.querySelector('button[data-roomToken="' + room.roomToken + '"]');
						if (joinButton) {
							// joinButton.parentNode === <li>
							// joinButton.parentNode.parentNode === <td>
							// joinButton.parentNode.parentNode.parentNode === <tr>
							// joinButton.parentNode.parentNode.parentNode.parentNode === <table>
							joinButton.parentNode.parentNode.parentNode.parentNode.removeChild(joinButton.parentNode.parentNode.parentNode);
						}
					}
				};

				function setupNewRoomButtonClickHandler() {
					btnSetupNewRoom.disabled = true;
					document.getElementById('conference-name').disabled = true;
					captureUserMedia(function() {
						conferenceUI.createRoom({
							roomName: (document.getElementById('conference-name') || { }).value || 'Anonymous'
						});
					}, function() {
						btnSetupNewRoom.disabled = document.getElementById('conference-name').disabled = false;
					});
				}

				function captureUserMedia(callback, failure_callback) {
					var video = document.createElement('video');

					getUserMedia({
						video: video,
						onsuccess: function(stream) {
							config.attachStream = stream;
							callback && callback();

							video.setAttribute('muted', true);

							var mediaElement = getMediaElement(video, {
								width: (videosContainer.clientWidth / 2) - 50,
								buttons: ['mute-audio', 'mute-video', 'full-screen', 'volume-slider']
							});
							mediaElement.toggle('mute-audio');
							videosContainer.insertBefore(mediaElement, videosContainer.firstChild);
						},
						onerror: function() {
							alert('unable to get access to your webcam');
							callback && callback();
						}
					});
				}

				var conferenceUI = conference(config);

				/* UI specific */
				var videosContainer = document.getElementById('videos-container') || document.body;
				var btnSetupNewRoom = document.getElementById('setup-new-room');
				var roomsList = document.getElementById('rooms-list');

				if (btnSetupNewRoom) btnSetupNewRoom.onclick = setupNewRoomButtonClickHandler;

				function rotateVideo(video) {
					video.style[navigator.mozGetUserMedia ? 'transform' : '-webkit-transform'] = 'rotate(0deg)';
					setTimeout(function() {
						video.style[navigator.mozGetUserMedia ? 'transform' : '-webkit-transform'] = 'rotate(360deg)';
					}, 1000);
				}

				(function() {
					var uniqueToken = document.getElementById('unique-token');
					if (uniqueToken)
						//if (location.hash.length > 2)
						uniqueToken.parentNode.parentNode.parentNode.innerHTML = '<h2 style="text-align:center;"><a href="' + location.href + "#" + _channelHash + '" target="_blank">Share this link</a></h2>';
						//else uniqueToken.innerHTML = uniqueToken.parentNode.parentNode.href = '#' + (Math.random() * new Date().getTime()).toString(36).toUpperCase().replace( /\./g , '-');
				})();

				function scaleVideos() {
					var videos = document.querySelectorAll('video'),
						length = videos.length, video;

					var minus = 130;
					var windowHeight = 700;
					var windowWidth = 600;
					var windowAspectRatio = windowWidth / windowHeight;
					var videoAspectRatio = 4 / 3;
					var blockAspectRatio;
					var tempVideoWidth = 0;
					var maxVideoWidth = 0;

					for (var i = length; i > 0; i--) {
						blockAspectRatio = i * videoAspectRatio / Math.ceil(length / i);
						if (blockAspectRatio <= windowAspectRatio) {
							tempVideoWidth = videoAspectRatio * windowHeight / Math.ceil(length / i);
						} else {
							tempVideoWidth = windowWidth / i;
						}
						if (tempVideoWidth > maxVideoWidth)
							maxVideoWidth = tempVideoWidth;
					}
					for (var i = 0; i < length; i++) {
						video = videos[i];
						if (video)
							video.width = maxVideoWidth - minus;
					}
				}

				window.onresize = scaleVideos;

			</script>



		</article>

	</div>
	
	<div class="startTemporaryPopup" id="videoChatExplanator">&#8592; click grey bar to open Video Chat</div>
	<div class="startTemporaryPopup" id="wallChatExplanator">click grey bar to open Wall/Chat &#8594;</div>
	<div class="startTemporaryPopup" id="urlExplanator">share this is unique address of your presentation &#8593;</div>
	<div class="startTemporaryPopup" id="menuExplanator">click ☰ to open Menu &#8594;</div>
	<div class="startTemporaryPopup" id="closeExplanator"><div id="closeExplanatorText">Click Here To Close Help</div></div>
	
	<nav id="primary_nav_wrap">
		<ul>
			<li><a href="#"></a>
				<ul class="menuSubmenu">
				  <li><a href="javascript:showRemote()" id="menuRemote">Become Presenter</a></li>	
				  <li><a href="javascript:showHideComments()" id="menuOpenWallChat"><span id='chatOpenCloseLabel'></span> Chat</a></li>
				  <li><a href="javascript:showHidePersonalNotes()" id="menuPersonalNotes"><span id='personalNotesOpenCloseLabel'></span> Personal Notes</a></li>
				  <li><a href="javascript:showHideVideoChat()" id="menuOpenVideoChat"><span id='videoChatOpenCloseLabel'></span> Video Chat</a></li>		  
				  <li><a href="http://www.slite.us">Home</a></li>
				  <li><a href="javascript:showHideHelpOverlay()" id="menuHelpOverlay">Help</a></li>
				</ul>
			</li>
		</ul>
	</nav>
	
	<script>
		jQuery(document).ready(function($) {
				  $('#video-gallery').royalSlider({
					arrowsNav: false,
					fadeinLoadedSlide: true,
					controlNavigationSpacing: 0,
					controlNavigation: 'none',

					thumbs: {
					  autoCenter: false,
					  fitInViewport: true,
					  orientation: 'vertical',
					  spacing: 0,
					  paddingBottom: 0
					},
					keyboardNavEnabled: true,
					imageScaleMode: 'fill',
					imageAlignCenter:true,
					slidesSpacing: 0,
					loop: false,
					loopRewind: true,
					numImagesToPreload: 3,
					video: {
					  autoHideArrows:true,
					  autoHideControlNav:false,
					  autoHideBlocks: true
					},
					autoScaleSlider: true,
					autoScaleSliderWidth: 200,
					autoScaleSliderHeight: 100,
					visibleNearby: {
						enabled: false,
						centerArea: 0.5,
						center: true,
						breakpoint: 650,
						breakpointCenterArea: 0.64,
						navigateByCenterClick: true
					}
				  });
				  	
					var number_of_slides = "NUM_SLIDES_TEMPLATE";
					if (!parseInt(number_of_slides, 10)) number_of_slides = 15;
					for (var slide = 1; slide <= number_of_slides; ++slide) {
						//var slide_html_path= "C:\\Users\\marov\\Documents\\GitHub\\mobremcon\\BACKEND\\TEST\\MA\\SliteShow_PitchDeck.pptx.html\\";
						//var slide_html_path = data.filename;
						var slite = '/HASH_TEMPLATE/';
						var slide_html_path = slite + "img" + (slide-1) + ".jpg" + "?ts=" + (new Date().getTime()); //slide url with added time stamp to stop caching
						var slider = $(".royalSlider").data('royalSlider');
						if (slite.length == 15) // we did not do any replacment!
						{
							slide_html_path= "PPT/SliteShow_PitchDeck.pptx";
							if (slide == 1) slide_html_path += ".html/SliteShow_PitchDeck.html";
							else slide_html_path += ".html/img"+slide+".html" + "?ts=" +  (new Date().getTime()); //slide url with added time stamp to stop caching
							var slide_html= "<div style='text-align:center' id=slide class='rsContent'>"
								+ "<iframe src='"+slide_html_path+"' width='100%' height='100%' seamless> </iframe>"
								+ "<div class='rsTmb'>"
								+ "<h5>SLIDE"+slide+"</h5>"
								+ "     <span>Slide "+slide+" here</span>"
								+ "</div> </div>";
							slider.appendSlide(slide_html);
						}
						else
						{
							var slide_html= "<div style='text-align:center;overflow:scroll' id=slide class='rsContent'>"
								+ "<img src='"+slide_html_path+"' height='100%'>"
								+ "<div class='rsTmb'>"
								+ "<h5>SLIDE"+slide+"</h5>"
								+ "     <span>Slide "+slide+" here</span>"
								+ "</div> </div>";
							slider.appendSlide(slide_html);
						}
					}

					$("#video-gallery").css("height","100%");
					$(".rsOverflow").css("height","100%");
			});



	$('#chatPanel').click(function(){
		showHideComments();
	});		
	$('#closeChat').click(function(){
		showHideComments();
	});
	
	$('#personalNotesPanel').click(function(){
		showHidePersonalNotes();
	});
	$('#closePersonalNotes').click(function(){
		showHidePersonalNotes();
	});	
	
	$('#closeHelpOverlay').click(function(){
		showHideHelpOverlay();
	});
		
	$('#videochatpanel').click(function(){
		showHideVideoChat();
	});
	$('#closevideo').click(function(){
		showHideVideoChat();
	});	
	
	$('#sliteWatermak').click(function(){
		showHideMenu();
	});
	$('#closeExplanator').click(function(){
		showHideExplanators();
	});	
	if(needToShowExplanators()){
		showHideExplanators();
	}

	</script>



</body>


</html>
