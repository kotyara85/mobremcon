/*!
 * jQuery Validation Plugin v1.13.1
 *
 * http://jqueryvalidation.org/
 *
 * Copyright (c) 2014 JÃ¶rn Zaefferer
 * Released under the MIT license
 */
$.extend($.fn,{validate:function(e){if(!this.length){if(e&&e.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.")}return}var t=$.data(this[0],"validator");if(t){return t}this.attr("novalidate","novalidate");t=new $.validator(e,this[0]);$.data(this[0],"validator",t);if(t.settings.onsubmit){this.validateDelegate(":submit","click",function(e){if(t.settings.submitHandler){t.submitButton=e.target}if($(e.target).hasClass("cancel")){t.cancelSubmit=true}if($(e.target).attr("formnovalidate")!==undefined){t.cancelSubmit=true}});this.submit(function(e){function n(){var n,r;if(t.settings.submitHandler){if(t.submitButton){n=$("<input type='hidden'/>").attr("name",t.submitButton.name).val($(t.submitButton).val()).appendTo(t.currentForm)}r=t.settings.submitHandler.call(t,t.currentForm,e);if(t.submitButton){n.remove()}if(r!==undefined){return r}return false}return true}if(t.settings.debug){e.preventDefault()}if(t.cancelSubmit){t.cancelSubmit=false;return n()}if(t.form()){if(t.pendingRequest){t.formSubmitted=true;return false}return n()}else{t.focusInvalid();return false}})}return t},valid:function(){var e,t;if($(this[0]).is("form")){e=this.validate().form()}else{e=true;t=$(this[0].form).validate();this.each(function(){e=t.element(this)&&e})}return e},removeAttrs:function(e){var t={},n=this;$.each(e.split(/\s/),function(e,r){t[r]=n.attr(r);n.removeAttr(r)});return t},rules:function(e,t){var n=this[0],r,i,s,o,u,a;if(e){r=$.data(n.form,"validator").settings;i=r.rules;s=$.validator.staticRules(n);switch(e){case"add":$.extend(s,$.validator.normalizeRule(t));delete s.messages;i[n.name]=s;if(t.messages){r.messages[n.name]=$.extend(r.messages[n.name],t.messages)}break;case"remove":if(!t){delete i[n.name];return s}a={};$.each(t.split(/\s/),function(e,t){a[t]=s[t];delete s[t];if(t==="required"){$(n).removeAttr("aria-required")}});return a}}o=$.validator.normalizeRules($.extend({},$.validator.classRules(n),$.validator.attributeRules(n),$.validator.dataRules(n),$.validator.staticRules(n)),n);if(o.required){u=o.required;delete o.required;o=$.extend({required:u},o);$(n).attr("aria-required","true")}if(o.remote){u=o.remote;delete o.remote;o=$.extend(o,{remote:u})}return o}});$.extend($.expr[":"],{blank:function(e){return!$.trim(""+$(e).val())},filled:function(e){return!!$.trim(""+$(e).val())},unchecked:function(e){return!$(e).prop("checked")}});$.validator=function(e,t){this.settings=$.extend(true,{},$.validator.defaults,e);this.currentForm=t;this.init()};$.validator.format=function(e,t){if(arguments.length===1){return function(){var t=$.makeArray(arguments);t.unshift(e);return $.validator.format.apply(this,t)}}if(arguments.length>2&&t.constructor!==Array){t=$.makeArray(arguments).slice(1)}if(t.constructor!==Array){t=[t]}$.each(t,function(t,n){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return n})});return e};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:false,focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(e){this.lastActive=e;if(this.settings.focusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass)}this.hideThese(this.errorsFor(e))}},onfocusout:function(e){if(!this.checkable(e)&&(e.name in this.submitted||!this.optional(e))){this.element(e)}},onkeyup:function(e,t){if(t.which===9&&this.elementValue(e)===""){return}else if(e.name in this.submitted||e===this.lastElement){this.element(e)}},onclick:function(e){if(e.name in this.submitted){this.element(e)}else if(e.parentNode.name in this.submitted){this.element(e.parentNode)}},highlight:function(e,t,n){if(e.type==="radio"){this.findByName(e.name).addClass(t).removeClass(n)}else{$(e).addClass(t).removeClass(n)}},unhighlight:function(e,t,n){if(e.type==="radio"){this.findByName(e.name).removeClass(t).addClass(n)}else{$(e).removeClass(t).addClass(n)}}},setDefaults:function(e){$.extend($.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function n(e){var t=$.data(this[0].form,"validator"),n="on"+e.type.replace(/^validate/,""),r=t.settings;if(r[n]&&!this.is(r.ignore)){r[n].call(t,this[0],e)}}this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var e=this.groups={},t;$.each(this.settings.groups,function(t,n){if(typeof n==="string"){n=n.split(/\s/)}$.each(n,function(n,r){e[r]=t})});t=this.settings.rules;$.each(t,function(e,n){t[e]=$.validator.normalizeRule(n)});$(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, "+"[type='number'], [type='search'] ,[type='tel'], [type='url'], "+"[type='email'], [type='datetime'], [type='date'], [type='month'], "+"[type='week'], [type='time'], [type='datetime-local'], "+"[type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",n).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",n);if(this.settings.invalidHandler){$(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}$(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid()){$(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++){this.check(t[e])}return this.valid()},element:function(e){var t=this.clean(e),n=this.validationTargetFor(t),r=true;this.lastElement=n;if(n===undefined){delete this.invalid[t.name]}else{this.prepareElement(n);this.currentElements=$(n);r=this.check(n)!==false;if(r){delete this.invalid[n.name]}else{this.invalid[n.name]=true}}$(e).attr("aria-invalid",!r);if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return r},showErrors:function(e){if(e){$.extend(this.errorMap,e);this.errorList=[];for(var t in e){this.errorList.push({message:e[t],element:this.findByName(t)[0]})}this.successList=$.grep(this.successList,function(t){return!(t.name in e)})}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function(){if($.fn.resetForm){$(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0,n;for(n in e){t++}return t},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text("");this.addWrapper(e).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}}},findLastActive:function(){var e=this.lastActive;return e&&$.grep(this.errorList,function(t){return t.element.name===e.name}).length===1&&e},elements:function(){var e=this,t={};return $(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly]").not(this.settings.ignore).filter(function(){if(!this.name&&e.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.name in t||!e.objectLength($(this).rules())){return false}t[this.name]=true;return true})},clean:function(e){return $(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return $(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);this.currentElements=$([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset();this.toHide=this.errorsFor(e)},elementValue:function(e){var t,n=$(e),r=e.type;if(r==="radio"||r==="checkbox"){return $("input[name='"+e.name+"']:checked").val()}else if(r==="number"&&typeof e.validity!=="undefined"){return e.validity.badInput?false:n.val()}t=n.val();if(typeof t==="string"){return t.replace(/\r/g,"")}return t},check:function(e){e=this.validationTargetFor(this.clean(e));var t=$(e).rules(),n=$.map(t,function(e,t){return t}).length,r=false,i=this.elementValue(e),s,o,u;for(o in t){u={method:o,parameters:t[o]};try{s=$.validator.methods[o].call(this,i,e,u.parameters);if(s==="dependency-mismatch"&&n===1){r=true;continue}r=false;if(s==="pending"){this.toHide=this.toHide.not(this.errorsFor(e));return}if(!s){this.formatAndAdd(e,u);return false}}catch(a){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+e.id+", check the '"+u.method+"' method.",a)}throw a}}if(r){return}if(this.objectLength(t)){this.successList.push(e)}return true},customDataMessage:function(e,t){return $(e).data("msg"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase())||$(e).data("msg")},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++){if(arguments[e]!==undefined){return arguments[e]}}return undefined},defaultMessage:function(e,t){return this.findDefined(this.customMessage(e.name,t),this.customDataMessage(e,t),!this.settings.ignoreTitle&&e.title||undefined,$.validator.messages[t],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,t){var n=this.defaultMessage(e,t.method),r=/\$?\{(\d+)\}/g;if(typeof n==="function"){n=n.call(this,t.parameters,e)}else if(r.test(n)){n=$.validator.format(n.replace(r,"{$1}"),t.parameters)}this.errorList.push({message:n,element:e,method:t.method});this.errorMap[e.name]=n;this.submitted[e.name]=n},addWrapper:function(e){if(this.settings.wrapper){e=e.add(e.parent(this.settings.wrapper))}return e},defaultShowErrors:function(){var e,t,n;for(e=0;this.errorList[e];e++){n=this.errorList[e];if(this.settings.highlight){this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(n.element,n.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(e=0;this.successList[e];e++){this.showLabel(this.successList[e])}}if(this.settings.unhighlight){for(e=0,t=this.validElements();t[e];e++){this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return $(this.errorList).map(function(){return this.element})},showLabel:function(e,t){var n,r,i,s=this.errorsFor(e),o=this.idOrName(e),u=$(e).attr("aria-describedby");if(s.length){s.removeClass(this.settings.validClass).addClass(this.settings.errorClass);s.html(t)}else{s=$("<"+this.settings.errorElement+">").attr("id",o+"-error").addClass(this.settings.errorClass).html(t||"");n=s;if(this.settings.wrapper){n=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(this.labelContainer.length){this.labelContainer.append(n)}else if(this.settings.errorPlacement){this.settings.errorPlacement(n,$(e))}else{n.insertAfter(e)}if(s.is("label")){s.attr("for",o)}else if(s.parents("label[for='"+o+"']").length===0){i=s.attr("id").replace(/(:|\.|\[|\])/g,"\\$1");if(!u){u=i}else if(!u.match(new RegExp("\\b"+i+"\\b"))){u+=" "+i}$(e).attr("aria-describedby",u);r=this.groups[e.name];if(r){$.each(this.groups,function(e,t){if(t===r){$("[name='"+e+"']",this.currentForm).attr("aria-describedby",s.attr("id"))}})}}}if(!t&&this.settings.success){s.text("");if(typeof this.settings.success==="string"){s.addClass(this.settings.success)}else{this.settings.success(s,e)}}this.toShow=this.toShow.add(s)},errorsFor:function(e){var t=this.idOrName(e),n=$(e).attr("aria-describedby"),r="label[for='"+t+"'], label[for='"+t+"'] *";if(n){r=r+", #"+n.replace(/\s+/g,", #")}return this.errors().filter(r)},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){if(this.checkable(e)){e=this.findByName(e.name)}return $(e).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return $(this.currentForm).find("[name='"+e+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return $("option:selected",t).length;case"input":if(this.checkable(t)){return this.findByName(t.name).filter(":checked").length}}return e.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):true},dependTypes:{"boolean":function(e){return e},string:function(e,t){return!!$(e,t.form).length},"function":function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!$.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){if(!this.pending[e.name]){this.pendingRequest++;this.pending[e.name]=true}},stopRequest:function(e,t){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[e.name];if(t&&this.pendingRequest===0&&this.formSubmitted&&this.form()){$(this.currentForm).submit();this.formSubmitted=false}else if(!t&&this.pendingRequest===0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}},previousValue:function(e){return $.data(e,"previousValue")||$.data(e,"previousValue",{old:null,valid:true,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(e,t){if(e.constructor===String){this.classRuleSettings[e]=t}else{$.extend(this.classRuleSettings,e)}},classRules:function(e){var t={},n=$(e).attr("class");if(n){$.each(n.split(" "),function(){if(this in $.validator.classRuleSettings){$.extend(t,$.validator.classRuleSettings[this])}})}return t},attributeRules:function(e){var t={},n=$(e),r=e.getAttribute("type"),i,s;for(i in $.validator.methods){if(i==="required"){s=e.getAttribute(i);if(s===""){s=true}s=!!s}else{s=n.attr(i)}if(/min|max/.test(i)&&(r===null||/number|range|text/.test(r))){s=Number(s)}if(s||s===0){t[i]=s}else if(r===i&&r!=="range"){t[i]=true}}if(t.maxlength&&/-1|2147483647|524288/.test(t.maxlength)){delete t.maxlength}return t},dataRules:function(e){var t,n,r={},i=$(e);for(t in $.validator.methods){n=i.data("rule"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase());if(n!==undefined){r[t]=n}}return r},staticRules:function(e){var t={},n=$.data(e.form,"validator");if(n.settings.rules){t=$.validator.normalizeRule(n.settings.rules[e.name])||{}}return t},normalizeRules:function(e,t){$.each(e,function(n,r){if(r===false){delete e[n];return}if(r.param||r.depends){var i=true;switch(typeof r.depends){case"string":i=!!$(r.depends,t.form).length;break;case"function":i=r.depends.call(t,t);break}if(i){e[n]=r.param!==undefined?r.param:true}else{delete e[n]}}});$.each(e,function(n,r){e[n]=$.isFunction(r)?r(t):r});$.each(["minlength","maxlength"],function(){if(e[this]){e[this]=Number(e[this])}});$.each(["rangelength","range"],function(){var t;if(e[this]){if($.isArray(e[this])){e[this]=[Number(e[this][0]),Number(e[this][1])]}else if(typeof e[this]==="string"){t=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/);e[this]=[Number(t[0]),Number(t[1])]}}});if($.validator.autoCreateRanges){if(e.min!=null&&e.max!=null){e.range=[e.min,e.max];delete e.min;delete e.max}if(e.minlength!=null&&e.maxlength!=null){e.rangelength=[e.minlength,e.maxlength];delete e.minlength;delete e.maxlength}}return e},normalizeRule:function(e){if(typeof e==="string"){var t={};$.each(e.split(/\s/),function(){t[this]=true});e=t}return e},addMethod:function(e,t,n){$.validator.methods[e]=t;$.validator.messages[e]=n!==undefined?n:$.validator.messages[e];if(t.length<3){$.validator.addClassRules(e,$.validator.normalizeRule(e))}},methods:{required:function(e,t,n){if(!this.depend(n,t)){return"dependency-mismatch"}if(t.nodeName.toLowerCase()==="select"){var r=$(t).val();return r&&r.length>0}if(this.checkable(t)){return this.getLength(e,t)>0}return $.trim(e).length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test((new Date(e)).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t)){return"dependency-mismatch"}if(/[^0-9 \-]+/.test(e)){return false}var n=0,r=0,i=false,s,o;e=e.replace(/\D/g,"");if(e.length<13||e.length>19){return false}for(s=e.length-1;s>=0;s--){o=e.charAt(s);r=parseInt(o,10);if(i){if((r*=2)>9){r-=9}}n+=r;i=!i}return n%10===0},minlength:function(e,t,n){var r=$.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||r>=n},maxlength:function(e,t,n){var r=$.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||r<=n},rangelength:function(e,t,n){var r=$.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||r>=n[0]&&r<=n[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},equalTo:function(e,t,n){var r=$(n);if(this.settings.onfocusout){r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){$(t).valid()})}return e===r.val()},remote:function(e,t,n){if(this.optional(t)){return"dependency-mismatch"}var r=this.previousValue(t),i,s;if(!this.settings.messages[t.name]){this.settings.messages[t.name]={}}r.originalMessage=this.settings.messages[t.name].remote;this.settings.messages[t.name].remote=r.message;n=typeof n==="string"&&{url:n}||n;if(r.old===e){return r.valid}r.old=e;i=this;this.startRequest(t);s={};s[t.name]=e;$.ajax($.extend(true,{url:n,mode:"abort",port:"validate"+t.name,dataType:"json",data:s,context:i.currentForm,success:function(n){var s=n===true||n==="true",o,u,a;i.settings.messages[t.name].remote=r.originalMessage;if(s){a=i.formSubmitted;i.prepareElement(t);i.formSubmitted=a;i.successList.push(t);delete i.invalid[t.name];i.showErrors()}else{o={};u=n||i.defaultMessage(t,"remote");o[t.name]=r.message=$.isFunction(u)?u(e):u;i.invalid[t.name]=true;i.showErrors(o)}r.valid=s;i.stopRequest(t,s)}},n));return"pending"}}});$.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var pendingRequests={},ajax;if($.ajaxPrefilter){$.ajaxPrefilter(function(e,t,n){var r=e.port;if(e.mode==="abort"){if(pendingRequests[r]){pendingRequests[r].abort()}pendingRequests[r]=n}})}else{ajax=$.ajax;$.ajax=function(e){var t=("mode"in e?e:$.ajaxSettings).mode,n=("port"in e?e:$.ajaxSettings).port;if(t==="abort"){if(pendingRequests[n]){pendingRequests[n].abort()}pendingRequests[n]=ajax.apply(this,arguments);return pendingRequests[n]}return ajax.apply(this,arguments)}}$.extend($.fn,{validateDelegate:function(e,t,n){return this.bind(t,function(t){var r=$(t.target);if(r.is(e)){return n.apply(r,arguments)}})}})