<html>
<head>
	<title>RECEIVER POWER POINT</title>
	
	    <!-- slider JS files -->
    
    <script src="jquery-1.8.3.js"></script>
    <script src="jquery-ui-1.8.22.custom.min.js"></script>
    <script class="rs-file" src="jquery.royalslider.min.js"></script>
	<script src="jquery.infinitescroll.js"></script>
    <link href="jquery-ui-1.8.22.custom.css" rel="stylesheet">
    <link class="rs-file" href="royalslider.css" rel="stylesheet">
	
	<link rel="stylesheet" type="text/css" href="index1.css">
	<script src="http://localhost:1337/socket.io/socket.io.js"></script>
	<script>
	  	//var socket = io.connect('http://remotecontrol.nodejitsu.com:80');
	  	var socket = io.connect('http://localhost:1337');
		
	  	socket.on('fileConverted', function (data) {
			//console.log("JD: received from remote this data: " + JSON.stringify(data));
			for (var slide = 1; slide <= data.num_slides; ++slide) {	
				//var slide_html= "<iframe src='C:\\Users\\marov\\Documents\\GitHub\\mobremcon\\BACKEND\\TEST\\MA\\Weather_delivery.pptx.html\\img1.html' seamless></iframe>";
				var slide_html= "<div id=slide class='rsContent'>" 
					+ "<iframe src='"+data.filename+".html/img"+slide+".html' width='1600' height='1000' seamless> </iframe>"   
					+ "<div class='rsTmb'>"
					+ "<h5>SLIDE"+slide+"</h5>"
					+ "     <span>Slide "+slide+" here</span>"
					+ "</div> </div>";
				
				var slider = $(".royalSlider").data('royalSlider');
				slider.appendSlide(slide_html);
			}
		});

		socket.on('news', function (data) {
	  	var button = data.hello-1;

		console.log(button);
		
		var slider = $(".royalSlider").data('royalSlider');
		
		switch(button)
		{
			case -102: {
				//window.location.href = "index.html";
			    //window.location.href = "http://localhost:1337/TEST/MA/Weather_delivery.pptx.html/Weather_delivery.html";
				slider.goTo(0);
				break;
			}
			case -1: {
				slider.toggleVideo();
				break;
			}
			case 100: {
				slider.next();
				break;
			}
			case 101: {
				slider.prev();
				break;
			}
			default: {
				slider.stopVideo();
				slider.goTo(button);
				slider.playVideo();
			}
		
		
		}
		
		/*if(button == -1){
			slider.toggleVideo();
		}else{
		
			slider.stopVideo();
			slider.goTo(button);
			slider.playVideo();
		}*/
		
		/*if(data && (data.hello % 2 == 0)){
			document.body.style.background = "red";
		}else{
			document.body.style.background = "blue";
		}*/
		socket.emit('my other event', { my: 'data' });
	  });
	</script>
	
    
    <!-- syntax highlighter -->
    <script src="highlight.pack.js"></script>
    <script> hljs.initHighlightingOnLoad();</script>


    

    <!-- preview-related stylesheets -->
    <link href="reset.css" rel="stylesheet">
    <link href="github.css" rel="stylesheet">

    <!-- slider stylesheets -->
    
     
    <link class="rs-file" href="rs-default.css" rel="stylesheet">
	
	
	<style>
	
	
		body{
			background-color:rgba(0,0,255,0.3);
		}
	
		#video-gallery {
		  width: 100%;
		}

		.videoGallery .rsTmb {
		  padding: 20px;
		}
		.videoGallery .rsThumbs .rsThumb {
		  width: 220px;
		  height: 80px;
		  border-bottom: 1px solid #2E2E2E;
		}
		.videoGallery .rsThumbs {
		  width: 220px;
		  padding: 0;
		}
		.videoGallery .rsThumb:hover {
		  background: #000;
		}
		.videoGallery .rsThumb.rsNavSelected {
		  background-color: #02874A;
		  border-bottom:-color #02874A;
		}

		.sampleBlock {
		  left: 3%; 
		  top: 1%; 
		  width: 100%;
		  max-width: 400px;
		}


		@media screen and (min-width: 0px) and (max-width: 500px) {
		  .videoGallery .rsTmb {
			padding: 6px 8px;
		  }
		  .videoGallery .rsTmb h5 {
			font-size: 12px;
			line-height: 17px;
		  }
		  .videoGallery .rsThumbs.rsThumbsVer {
			width: 100px;
			padding: 0;
		  }
		  .videoGallery .rsThumbs .rsThumb {
			width: 100px;
			height: 47px;
		  }
		  .videoGallery .rsTmb span {
			display: none;
		  }
		  .videoGallery .rsOverflow,
		  .royalSlider.videoGallery {
			height: 300px !important;
		  }
		  .sampleBlock {
			font-size: 14px;
		  }
		}
	
	</style>

</head>

<body>
	<div id="video-gallery" class="royalSlider videoGallery rsDefault"></div>
	<script>
		
		jQuery(document).ready(function($) {
				  $('#video-gallery').royalSlider({
					arrowsNav: false,
					fadeinLoadedSlide: true,
					controlNavigationSpacing: 0,
					controlNavigation: 'thumbnails',

					thumbs: {
					  autoCenter: false,
					  fitInViewport: true,
					  orientation: 'vertical',
					  spacing: 0,
					  paddingBottom: 0
					},
					keyboardNavEnabled: true,
					imageScaleMode: 'fill',
					imageAlignCenter:true,
					slidesSpacing: 0,
					loop: false,
					loopRewind: true,
					numImagesToPreload: 3,
					video: {
					  autoHideArrows:true,
					  autoHideControlNav:false,
					  autoHideBlocks: true
					}, 
					autoScaleSlider: true, 
					autoScaleSliderWidth: 960,     
					autoScaleSliderHeight: 450,
				  });
				  $('#video-gallery').infinitescroll({
					 behavior: 'local',
					 binder: $('#video-gallery'), // scroll on this element rather than on the window
					 navSelector  : "div.rsNav",
					 nextSelector 	: "div.rsThumbsArrow",
				  });
			});

	</script>

</body>


</html>
